webpackJsonp([0],{"0UJz":function(t,s,e){var a=e("VU/8")(e("Jrg7"),e("xzyY"),null,null);t.exports=a.exports},Jrg7:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mtWM"),r=e.n(a);s.default={data:function(){return{query:"",localQuery:"",results:"",status:"empty"}},methods:{localSearch:function(){""!=this.localQuery&&(this.query=this.localQuery,this.$router.push({name:"search",query:{query:this.query}}),this.findRequest())},search:function(){void 0!=this.$route.query.query&&this.$route.query.query.length>0&&(this.status="searching",this.query=this.$route.query.query,this.localQuery=this.$route.query.query,this.findRequest())},findRequest:function(){var t=this;r.a.get("/backend/search/"+this.query).then(function(s){t.results=s.data.data,0==t.results.length?t.status="not-found":t.status="loaded"}).catch(function(t){this.status="error"})}},created:function(){this.search()},watch:{"$route.query.query":function(){this.search()}},mounted:function(){}}},xzyY:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"container"},[e("div",{staticClass:"search"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.localSearch(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localQuery,expression:"localQuery"}],attrs:{type:"text",placeholder:"Искать предприятие..."},domProps:{value:t.localQuery},on:{input:function(s){s.target.composing||(t.localQuery=s.target.value)}}}),t._v(" "),e("input",{staticClass:"button button-primary",attrs:{type:"submit",value:"Искать"}})])]),t._v(" "),e("h1",[t._v("Результаты поиска")]),t._v(" "),e("div",{staticClass:"results"},["searching"==t.status?e("div",{staticClass:"searching"},[t._v("\n                Обработка запроса...\n            ")]):t._e(),t._v(" "),"not-found"==t.status?e("div",{staticClass:"not-found"},[t._v("\n                По вашему запросу ничего не найдено\n            ")]):t._e(),t._v(" "),t._l(t.results,function(s,a){return"loaded"==t.status?e("div",{staticClass:"result"},[e("h2",{staticClass:"result__name"},[e("router-link",{attrs:{to:{name:"company",params:{companyBin:s.BIN}}}},[t._v("\n                        "+t._s(s.name_ru)+"\n                    ")])],1),t._v(" "),e("p",{staticClass:"result__activity"},[e("b",[t._v(t._s(s.activity_ru))])]),t._v(" "),e("p",{staticClass:"result__address"},[t._v("\n                    Юридический адрес: "+t._s(s.address)+"\n                ")]),t._v(" "),e("p",{staticClass:"result__ceo"},[t._v("\n                    Руководитель: "+t._s(s.CEO)+"\n                ")]),t._v(" "),e("p",{staticClass:"result__date"},[t._v("\n                    Дата основания: "+t._s(s.register_date)+"\n                ")]),t._v(" "),e("p",{staticClass:"result__bin"},[t._v("\n                    БИН: "+t._s(s.BIN)+"\n                ")]),t._v(" "),e("p",{staticClass:"result__oked"},[t._v("\n                    ОКЭД: "+t._s(s.economic_activity_code)+"\n                ")]),t._v(" "),e("p",{staticClass:"result__kato"},[t._v("\n                    КАТО: "+t._s(s.territory_code)+"\n                ")]),t._v(" "),e("p",{staticClass:"result__status"},[t._v("\n                    Статус:\n                    "),1==s.active?e("span",{staticClass:"active"},[t._v("В работе")]):e("span",[t._v("Не работает")])]),t._v(" "),e("br"),e("br"),e("br")]):t._e()})],2)])])},staticRenderFns:[]}}});